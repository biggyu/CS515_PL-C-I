# scanparse – LL(1) Expression Parser in Rust

This project implements a **AST and LLVM IR** for a simple expression language using Rust.
The scanner&parser reads expressions from an input file, parses them according to a context-free grammar, creates parse tree, AST, DAG representation and LLVM IR. Each parse tree, AST, and DAG representation gives a **breadth-first traversal** of the parse tree.

---

## Project Structure
```
first-compiler/
├── pa2/ # Cargo project
│ ├── src/
│ │ ├── ast.rs
│ │ ├── dag.rs
│ │ ├── grammar.rs
│ │ ├── llvm.rs
│ │ ├── main.rs
│ │ ├── parser.rs
│ │ └── scanner.rs
│ └── Cargo.toml
├── build.sh # Custom build script
├── run_tests.sh # Custom test run script
├── test.c # Compile file that converts LLVM IR to an x86-64 executable
├── test1.exp # Input expression test files
├── test1.astdag # Expected output of AST & DAG
├── test1.ll # LLVM IR of input expression
├── ... # Additional test cases
└── first-compiler # Built executable (generated by build script)
``` 

## Build Instructions

To compile the project and produce an executable:

```bash
sh build.sh
```

## Run Instructions

To run tests on all test#.exp files and generate test#.astdag & test#.ll"

```bash
sh run_tests.sh
```

## Compile LLVM IR

To run the LLVM IR on x86-64, run test.c file with the ll file created.

```bash
llc -march=x86-64 first.ll
clang test.c first.s -o test.out
./test.out
```
